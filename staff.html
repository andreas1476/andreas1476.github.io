<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <title>Resident RP – Staff Panel</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<section>
    <h2>Whitelist – Staff Panel</h2>
    <p class="section-text">
        Status gemmes lokalt på din computer.
    </p>

    <div id="applications" class="features"></div>
</section>

<script>
const applications = [
    {
        id: 1,
        discord: "User#1234",
        age: 19,
        experience: "2 års seriøs RP",
        character: "Civil mekaniker",
        status: "Afventer"
    }
];

function saveStatus(id, status) {
    localStorage.setItem("app_" + id, status);
    render();
}

function getStatus(id) {
    return localStorage.getItem("app_" + id) || "Afventer";
}

function render() {
    const container = document.getElementById("applications");
    container.innerHTML = "";

    applications.forEach(app => {
        const status = getStatus(app.id);

        const div = document.createElement("div");
        div.className = "feature";

        div.innerHTML = `
            <h3>${app.discord}</h3>
            <p><strong>Alder:</strong> ${app.age}</p>
            <p><strong>RP:</strong> ${app.experience}</p>
            <p><strong>Karakter:</strong> ${app.character}</p>
            <p><strong>Status:</strong> 
                <span class="status ${status}">
                    ${status}
                </span>
            </p>

            <div style="margin-top:1rem; display:flex; gap:1rem;">
                <button class="btn btn-primary" onclick="saveStatus(${app.id}, 'Godkendt')">
                    Godkend
                </button>
                <button class="btn btn-secondary" onclick="saveStatus(${app.id}, 'Afvist')">
                    Afvis
                </button>
            </div>
        `;
        container.appendChild(div);
    });
}
